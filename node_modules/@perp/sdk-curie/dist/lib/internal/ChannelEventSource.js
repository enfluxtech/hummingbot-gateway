"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ChannelEventSource=class{constructor({eventSourceStarter:e,initEventEmitter:t}){this._isServedMap={},this._eventSourceStarter=e,this._initEventEmitter=t}get isFirstRequired(){return Object.values(this._isServedMap).every((e=>!e))}get isLastRequired(){return 1===Object.values(this._isServedMap).filter((e=>!0===e)).length}callInitEventEmitter(e){this._initEventEmitter&&this.isFirstRequired&&this._initEventEmitter(e)}tryStart(e){this.isFirstRequired&&(this._eventSourceStopper=this._eventSourceStarter(e)),this._isServedMap[e]=!0}tryStop(e){this.isLastRequired&&this._eventSourceStopper&&this._eventSourceStopper(),this._isServedMap[e]=!1}};
//# sourceMappingURL=ChannelEventSource.js.map
