"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.printLogs = void 0;
const constants_1 = require("../constants");
const log_1 = require("../format/log");
const top_level_tx_1 = require("./top-level-tx");
/**
 * Makes a eth_getTransactionReceipt query and uses log formatter
 * @param txHash Transaction hash
 * @param dependencies Tracer dependencies
 */
async function printLogs(txHash, dependencies) {
    const rc = await dependencies.provider.send("eth_getTransactionReceipt", [
        txHash,
    ]);
    const addressStack = [];
    await (0, top_level_tx_1.printTopLevelTx)(txHash, addressStack, dependencies);
    if (rc && rc.logs && rc.logs.length) {
        for (const log of rc.logs) {
            console.log(constants_1.DEPTH_INDENTATION + (await (0, log_1.formatLog)(log, log.address, dependencies)));
        }
    }
}
exports.printLogs = printLogs;
//# sourceMappingURL=logs.js.map