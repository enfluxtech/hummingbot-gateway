class t{constructor({eventSourceStarter:t,initEventEmitter:e}){this._isServedMap={},this._eventSourceStarter=t,this._initEventEmitter=e}get isFirstRequired(){return Object.values(this._isServedMap).every((t=>!t))}get isLastRequired(){return 1===Object.values(this._isServedMap).filter((t=>!0===t)).length}callInitEventEmitter(t){this._initEventEmitter&&this.isFirstRequired&&this._initEventEmitter(t)}tryStart(t){this.isFirstRequired&&(this._eventSourceStopper=this._eventSourceStarter(t)),this._isServedMap[t]=!0}tryStop(t){this.isLastRequired&&this._eventSourceStopper&&this._eventSourceStopper(),this._isServedMap[t]=!1}}export{t as ChannelEventSource};
//# sourceMappingURL=ChannelEventSource.js.map
